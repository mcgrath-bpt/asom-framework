
EVIDENCE_LEDGER_SPEC.md

ASOM v2 – Evidence Ledger Specification
Enterprise-safe evidence model for regulated data platforms

⸻

1. Purpose

The Evidence Ledger is a formal, machine-verifiable index of control evidence produced during a release.

Its purpose is to ensure that:
	•	compliance evidence is real, attributable, and reproducible
	•	evidence is produced by authoritative systems, not agents
	•	governance verification is deterministic
	•	deployment gates can be enforced automatically
	•	audit walkthroughs do not rely on screenshots or narratives

Key rule:
Agents may reference evidence.
Agents may never generate, modify, or certify evidence.

⸻

2. Scope

The Evidence Ledger applies to:
	•	all releases promoted beyond DEV
	•	all controls defined in CONTROL_CATALOG.md
	•	all environments requiring human approval (QA, PROD)

Out of scope:
	•	exploratory local development
	•	ad-hoc analysis without promotion intent

⸻

3. Core Principles
	1.	Authoritative Production
Evidence is generated only by deterministic systems:
	•	CI/CD pipelines
	•	platform APIs
	•	policy scanners
	•	test frameworks
	2.	Immutability
Once recorded, evidence must not be altered.
	3.	Traceability
Every evidence item must trace to:
	•	a single commit SHA
	•	a single build execution
	•	a single CRQ (per release)
	4.	Minimalism
The ledger indexes evidence; it does not duplicate artifacts.
	5.	Verifiability
Governance decisions must be reproducible from ledger data alone.

⸻

4. Evidence Item Model

4.1 Logical Schema

evidence_id: EL-2026-000123
control_id: C-05
produced_by: ci_pipeline
source_type: build_artifact
source_ref: artifact://ci/build-456/access_tests.json
checksum: sha256:ab349c9...
commit_sha: 9f3c2a1...
build_id: ci-456
jira_refs:
  - JIRA-1234
crq_ref: SNOW-CRQ-987654
environment: QA
status: pass
created_at: 2026-02-01T11:42:18Z
notes: Optional explanatory text


⸻

4.2 Required Fields

Field	Requirement
evidence_id	Unique, immutable
control_id	Must map to Control Catalog
produced_by	Authoritative system only
source_ref	Verifiable artifact location
checksum	Required for integrity
commit_sha	Exact source version
build_id	Execution traceability
crq_ref	One CRQ per release
environment	DEV / QA / PROD
status	pass / fail / info
created_at	UTC timestamp


⸻

5. Evidence Lifecycle

5.1 Creation

Evidence is created when:
	•	a test executes
	•	a policy is evaluated
	•	a platform configuration is exported
	•	a validation script runs

Creation must occur:
	•	inside CI/CD
	•	or via platform automation invoked by CI/CD

⸻

5.2 Recording

For each evidence item:
	1.	Artifact is generated and stored
	2.	Checksum is calculated
	3.	Ledger entry is appended

Ledger storage options (implementation choice):
	•	append-only JSONL file
	•	CI artifact metadata store
	•	lightweight evidence index service

⸻

5.3 Verification

Governance verification consists of:
	•	existence check
	•	provenance check
	•	checksum validation
	•	control coverage validation

Governance does not inspect artifact contents unless required.

⸻

6. Governance Usage Model

6.1 What Governance Verifies

Governance verifies:
	•	all applicable controls have evidence
	•	evidence sources are authoritative
	•	evidence belongs to the correct release (CRQ)
	•	evidence status satisfies gate rules

⸻

6.2 What Governance Does NOT Do

Governance does not:
	•	create evidence
	•	rerun tests
	•	modify artifacts
	•	approve promotion
	•	override failures

Governance produces verification reports, not approvals.

⸻

7. Gate Integration

7.1 Evidence Completeness Check

Before QA or PROD promotion:
	•	required controls are determined from scope
	•	ledger is queried for matching evidence
	•	missing or failed evidence blocks promotion

⸻

7.2 Separation of Duties Enforcement

Gate logic must confirm:
	•	evidence producer ≠ approver
	•	governance verifier ≠ evidence producer
	•	deployment identity ≠ approver

⸻

8. ServiceNow (CRQ) Linkage
	•	Every ledger entry references exactly one CRQ
	•	CRQ state must be Approved before promotion
	•	CRQ is treated as authoritative approval record

Ledger entries may be attached to CRQ records by reference, not duplication.

⸻

9. Anti-Patterns (Explicitly Forbidden)

The following invalidate evidence:
	•	evidence authored manually
	•	screenshots as primary evidence
	•	narrative descriptions without artifacts
	•	evidence generated by agents
	•	evidence reused across releases without re-execution
	•	shared CRQs across unrelated releases

⸻

10. Audit Walkthrough (Evidence-First)

An auditor should be able to:
	1.	Select a PROD release
	2.	Identify the CRQ
	3.	Retrieve all ledger entries for that CRQ
	4.	Validate control coverage
	5.	Trace each item to its artifact and source
	6.	Confirm approvals and SoD

Without requiring:
	•	tribal knowledge
	•	screenshots
	•	email chains

⸻

11. Versioning & Change Control
	•	Ledger schema is versioned
	•	Backward compatibility must be maintained
	•	Changes require architecture approval

⸻

✅ EVIDENCE_LEDGER_SPEC.md — COMPLETE

⸻
